<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>webserv: CGIHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">webserv
   &#160;<span id="projectnumber">v1.0</span>
   </div>
   <div id="projectbrief">This is when you finally understand why a URL starts with HTTP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classCGIHandler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CGIHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles the execution of CGI scripts based on HTTP requests and server configurations.  
 <a href="classCGIHandler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="CGIHandler_8hpp_source.html">CGIHandler.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler_1_1ForkError.html">ForkError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler_1_1PipeError.html">PipeError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler_1_1PipeReadError.html">PipeReadError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler_1_1RedirectionError.html">RedirectionError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler_1_1TimeoutError.html">TimeoutError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a382736c29587351bedc0a4c51ca342d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler.html#a382736c29587351bedc0a4c51ca342d4">CGIHandler</a> (<a class="el" href="classLocationConfig.html">LocationConfig</a> &amp;config, const <a class="el" href="classHTTPRequest.html">HTTPRequest</a> &amp;req, std::string root)</td></tr>
<tr class="memdesc:a382736c29587351bedc0a4c51ca342d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for <a class="el" href="classCGIHandler.html" title="Handles the execution of CGI scripts based on HTTP requests and server configurations.">CGIHandler</a>.  <a href="classCGIHandler.html#a382736c29587351bedc0a4c51ca342d4">More...</a><br /></td></tr>
<tr class="separator:a382736c29587351bedc0a4c51ca342d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec3e58234a5c97deb2859baa1f886e7"><td class="memItemLeft" align="right" valign="top"><a id="a8ec3e58234a5c97deb2859baa1f886e7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler.html#a8ec3e58234a5c97deb2859baa1f886e7">~CGIHandler</a> (void)</td></tr>
<tr class="memdesc:a8ec3e58234a5c97deb2859baa1f886e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for <a class="el" href="classCGIHandler.html" title="Handles the execution of CGI scripts based on HTTP requests and server configurations.">CGIHandler</a>. <br /></td></tr>
<tr class="separator:a8ec3e58234a5c97deb2859baa1f886e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37bec86bd8382c2be314b70bbfc69c2c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler.html#a37bec86bd8382c2be314b70bbfc69c2c">getPath</a> (std::string extension)</td></tr>
<tr class="memdesc:a37bec86bd8382c2be314b70bbfc69c2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the executable path for a given file extension.  <a href="classCGIHandler.html#a37bec86bd8382c2be314b70bbfc69c2c">More...</a><br /></td></tr>
<tr class="separator:a37bec86bd8382c2be314b70bbfc69c2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1b826442d8fe3420681d44de4da8184"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler.html#ae1b826442d8fe3420681d44de4da8184">prepareFilePath</a> (std::string uri)</td></tr>
<tr class="memdesc:ae1b826442d8fe3420681d44de4da8184"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares the file path from a given URI.  <a href="classCGIHandler.html#ae1b826442d8fe3420681d44de4da8184">More...</a><br /></td></tr>
<tr class="separator:ae1b826442d8fe3420681d44de4da8184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b86bf5a2c4ed9a10c4b5f8d65948175"><td class="memItemLeft" align="right" valign="top">char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler.html#a8b86bf5a2c4ed9a10c4b5f8d65948175">setArgs</a> (void)</td></tr>
<tr class="memdesc:a8b86bf5a2c4ed9a10c4b5f8d65948175"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the arguments for the execve system call used to execute the CGI script.  <a href="classCGIHandler.html#a8b86bf5a2c4ed9a10c4b5f8d65948175">More...</a><br /></td></tr>
<tr class="separator:a8b86bf5a2c4ed9a10c4b5f8d65948175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0c6244a83005e91d3c96e2b9b2b0c4b"><td class="memItemLeft" align="right" valign="top"><a id="ac0c6244a83005e91d3c96e2b9b2b0c4b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler.html#ac0c6244a83005e91d3c96e2b9b2b0c4b">setEnv</a> (void)</td></tr>
<tr class="memdesc:ac0c6244a83005e91d3c96e2b9b2b0c4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the environment variables for the CGI script execution. <br /></td></tr>
<tr class="separator:ac0c6244a83005e91d3c96e2b9b2b0c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af71efbff60c537ad54c7022a5b9231a9"><td class="memItemLeft" align="right" valign="top"><a id="af71efbff60c537ad54c7022a5b9231a9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler.html#af71efbff60c537ad54c7022a5b9231a9">prepareCGI</a> (void)</td></tr>
<tr class="memdesc:af71efbff60c537ad54c7022a5b9231a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares the CGI environment, including paths and arguments for execution. <br /></td></tr>
<tr class="separator:af71efbff60c537ad54c7022a5b9231a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e8c372ce8c8c4b504ce7768c54e6e48"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler.html#a6e8c372ce8c8c4b504ce7768c54e6e48">execCGI</a> (void)</td></tr>
<tr class="memdesc:a6e8c372ce8c8c4b504ce7768c54e6e48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the CGI script using fork and execve, capturing output via a pipe.  <a href="classCGIHandler.html#a6e8c372ce8c8c4b504ce7768c54e6e48">More...</a><br /></td></tr>
<tr class="separator:a6e8c372ce8c8c4b504ce7768c54e6e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d900b4a842a90d9c393183a61f09e6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGIHandler.html#ae6d900b4a842a90d9c393183a61f09e6">isCGI</a> (void)</td></tr>
<tr class="memdesc:ae6d900b4a842a90d9c393183a61f09e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the current request is to be handled as a CGI request.  <a href="classCGIHandler.html#ae6d900b4a842a90d9c393183a61f09e6">More...</a><br /></td></tr>
<tr class="separator:ae6d900b4a842a90d9c393183a61f09e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles the execution of CGI scripts based on HTTP requests and server configurations. </p>
<p>This class is responsible for managing CGI processes including setting up the environment, parsing the HTTP request, determining the script to execute, handling input and output through pipes, and executing the script while capturing its output. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a382736c29587351bedc0a4c51ca342d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a382736c29587351bedc0a4c51ca342d4">&#9670;&nbsp;</a></span>CGIHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CGIHandler::CGIHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLocationConfig.html">LocationConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classHTTPRequest.html">HTTPRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for <a class="el" href="classCGIHandler.html" title="Handles the execution of CGI scripts based on HTTP requests and server configurations.">CGIHandler</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Reference to the <a class="el" href="classLocationConfig.html" title="LocationConfig class holds the configuration specific to a location (URI path) within a server.">LocationConfig</a> object containing location-specific settings. </td></tr>
    <tr><td class="paramname">req</td><td>The HTTP request that needs CGI processing. </td></tr>
    <tr><td class="paramname">root</td><td>The root directory from which files are served. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6e8c372ce8c8c4b504ce7768c54e6e48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e8c372ce8c8c4b504ce7768c54e6e48">&#9670;&nbsp;</a></span>execCGI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string CGIHandler::execCGI </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes the CGI script using fork and execve, capturing output via a pipe. </p>
<dl class="section return"><dt>Returns</dt><dd>A string containing the output from the CGI script execution. </dd></dl>

</div>
</div>
<a id="a37bec86bd8382c2be314b70bbfc69c2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37bec86bd8382c2be314b70bbfc69c2c">&#9670;&nbsp;</a></span>getPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string CGIHandler::getPath </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>extension</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines the executable path for a given file extension. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">extension</td><td>A string containing the file extension. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string containing the path to the executable associated with the extension. </dd></dl>

</div>
</div>
<a id="ae6d900b4a842a90d9c393183a61f09e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6d900b4a842a90d9c393183a61f09e6">&#9670;&nbsp;</a></span>isCGI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CGIHandler::isCGI </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the current request is to be handled as a CGI request. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the request is a CGI request, false otherwise. </dd></dl>

</div>
</div>
<a id="ae1b826442d8fe3420681d44de4da8184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1b826442d8fe3420681d44de4da8184">&#9670;&nbsp;</a></span>prepareFilePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string CGIHandler::prepareFilePath </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares the file path from a given URI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>The URI from which the file path will be extracted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string containing the file path derived from the URI. </dd></dl>

</div>
</div>
<a id="a8b86bf5a2c4ed9a10c4b5f8d65948175"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b86bf5a2c4ed9a10c4b5f8d65948175">&#9670;&nbsp;</a></span>setArgs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char ** CGIHandler::setArgs </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the arguments for the execve system call used to execute the CGI script. </p>
<dl class="section return"><dt>Returns</dt><dd>An array of char pointers representing the arguments for execve. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/xdarksyderx/Escritorio/42PROJECTS/webserv/include/<a class="el" href="CGIHandler_8hpp_source.html">CGIHandler.hpp</a></li>
<li>/home/xdarksyderx/Escritorio/42PROJECTS/webserv/src/CGIHandler.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
